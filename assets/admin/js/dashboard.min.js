((u,f)=>{u(function(){var n,i,s,o,a=u(".ha-dashboard-tabs"),e=a.find(".ha-dashboard-tabs__nav"),r=a.find(".ha-dashboard-tabs__content"),c=u("#toplevel_page_happy-addons").find(".wp-submenu"),d=(e.on("click",".ha-dashboard-tabs__nav-item",function(a){var e=u(a.currentTarget),t=a.currentTarget.hash,n="#tab-content-"+t.substring(1),n=r.find(n);if(e.is(".nav-item-is--link"))return!0;a.preventDefault(),e.addClass("tab--is-active").siblings().removeClass("tab--is-active"),n.addClass("tab--is-active").siblings().removeClass("tab--is-active"),window.location.hash=t,c.find("a").filter(function(a,e){return t===e.hash}).parent().addClass("current").siblings().removeClass("current")}),window.location.hash&&(e.find('a[href="'+window.location.hash+'"]').click(),c.find("a").filter(function(a,e){return window.location.hash===e.hash}).parent().addClass("current").siblings().removeClass("current")),c.on("click","a",function(a){if(!a.currentTarget.hash)return!0;a.preventDefault(),window.location.hash=a.currentTarget.hash,u(a.currentTarget).parent().addClass("current").siblings().removeClass("current"),e.find('a[href="'+a.currentTarget.hash+'"]').click()}),u("#ha-dashboard-form")),h=d.find(".ha-dashboard-widgets"),t=d.find(".ha-dashboard-btn--save"),l=(d.on("submit",function(a){a.preventDefault(),u.post({url:f.ajaxUrl,data:{nonce:f.nonce,action:f.action,data:d.serialize()},beforeSend:function(){t.text(".....").css("animation","animateTextIndent infinite 2.5s")},success:function(a){var e;a.success&&(e=setTimeout(function(){t.css("animation","").attr("disabled",!0).text(f.savedLabel),location.reload(),clearTimeout(e)},500))}})}),d.on("change keyup paste","input",function(){t.attr("disabled",!1).text(f.saveChangesLabel)}),u(".ha-action--btn").on("click",function(a){a.preventDefault();var a=u(this),e=a.data("filter"),a=a.data("action"),t=h.find(".ha-dashboard-widgets__item"),n=t.not(".item--is-pro"),i=t.filter(".item--is-pro");if(e)switch(e){case"free":n.show(),i.hide();break;case"pro":n.hide(),i.show();break;default:t.show()}var e=t.not(".item--is-placeholder").not('[style*="display:none"]').not('[style*="display: none"]').find(":checkbox.ha-widget"),s=t.not(".item--is-placeholder").not('[style*="display:none"]').not('[style*="display: none"]').find(":checkbox.ha-feature");a&&("enable"===a?e.prop("checked",!0):"disable"===a?e.prop("checked",!1):"enable_feature"===a?s.prop("checked",!0):"disable_feature"===a&&s.prop("checked",!1),e.trigger("change"),s.trigger("change"))}),u(".ha-search-action--btn input").on("input",(n=function(a){a.preventDefault();var t=a.target.value.toLowerCase(),a=h.find(".ha-dashboard-widgets__item").not(".item--is-placeholder").find(":checkbox.ha-widget");""!=t?d.find(".ha-dashboard-widgets--tab > h2").hide():d.find(".ha-dashboard-widgets--tab > h2").show(),a.each(function(a,e){e=u(e).closest(".ha-dashboard-widgets__item");-1<e.data("title").toLowerCase().indexOf(t)?e.show():e.hide()})},i=500,function(){var a=this,e=arguments,t=s&&!o;clearTimeout(o),o=setTimeout(function(){o=null,s||n.apply(a,e)},i),t&&n.apply(a,e)})),u(".ha-search-action--btn input").on("keypress",function(a){"Enter"===a.key&&a.preventDefault()}),u(".ha-feature-sub-title-a").magnificPopup({disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1}),u(".btn-how-to-contribute").on("click",function(a){a.preventDefault(),u(this).next().show()}),u("#ha-dashboard-analytics-disable"));l.on("click",function(a){a.preventDefault(),u(this).next().val("true"),u.post({url:f.ajaxUrl,data:{nonce:f.nonce,action:f.action,data:d.serialize()},beforeSend:function(){l.text(".....").css("animation","animateTextIndent infinite 2.5s")},success:function(a){a.success&&location.reload()}})})})})(jQuery,window.HappyDashboard);